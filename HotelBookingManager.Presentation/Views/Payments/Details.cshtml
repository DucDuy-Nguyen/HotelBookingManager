@model HotelBookingManager.DataAccess.Models.Payment

@{
    ViewData["Title"] = "Chi tiết thanh toán";
}

<h1>Chi tiết thanh toán</h1>

<div class="card">
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-2">Số tiền</dt>
            <dd class="col-sm-10">@Model.Amount.ToString("N0") VNĐ</dd>

            <dt class="col-sm-2">Phương thức</dt>
            <dd class="col-sm-10">@Model.Method</dd>

            <dt class="col-sm-2">Trạng thái</dt>
            <dd class="col-sm-10">
                <span class="badge @(Model.Status == "Success" ? "bg-success" : Model.Status == "Pending" ? "bg-warning text-dark" : "bg-danger")">
                    @Model.Status
                </span>
            </dd>

            <dt class="col-sm-2">Mã GD</dt>
            <dd class="col-sm-10">@Model.TransactionCode</dd>

            <dt class="col-sm-2">PaidAt</dt>
            <dd class="col-sm-10">@Model.PaidAt?.ToString("dd/MM/yyyy HH:mm")</dd>

            <dt class="col-sm-2">CreatedAt</dt>
            <dd class="col-sm-10">@Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</dd>

            <dt class="col-sm-2">Booking</dt>
            <dd class="col-sm-10">@Model.Booking?.Status</dd>

            <dt class="col-sm-2">User</dt>
            <dd class="col-sm-10">@Model.User?.Email</dd>
        </dl>
    </div>
</div>

<div class="mt-4">
    @if (Model.Status == "Pending")
    {
        <a asp-action="Pay" asp-route-paymentId="@Model.PaymentId" class="btn btn-success me-2">
            Thanh toán
        </a>
    }

    <a asp-action="Index" class="btn btn-secondary">
        Quay lại
    </a>
</div>
