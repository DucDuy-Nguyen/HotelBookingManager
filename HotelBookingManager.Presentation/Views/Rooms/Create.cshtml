@model HotelBookingManager.Presentation.Models.RoomCreateEditViewModel

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- 🏨 HEADER -->
            <div class="text-center mb-5">
                <div class="icon-circle bg-success bg-opacity-10 text-success mb-3 mx-auto">
                    <i class="fas fa-bed fa-2x"></i>
                </div>
                <h2 class="fw-bold text-dark mb-1">Thêm phòng mới</h2>
                <p class="text-muted lead">Điền thông tin chi tiết cho phòng khách sạn</p>
            </div>

            <form asp-action="Create"
                  method="post"
                  enctype="multipart/form-data"
                  id="createRoomForm"
                  class="room-form shadow-lg border-0 rounded-4 p-4 p-lg-5 bg-white">

                <!-- ✅ ĐÃ BỎ validation summary -->
                <div id="customError" class="alert alert-danger" style="display:none;"></div>

                <div class="row g-4">
                    <!-- 🏨 KHÁCH SẠN -->
                    <div class="col-md-6">
                        <label class="form-label fw-semibold mb-2">
                            Khách sạn <i class="fas fa-hotel text-primary"></i>
                        </label>
                        <select asp-for="HotelId"
                                class="form-select form-select-lg border-primary-subtle"
                                id="hotelSelect"
                                asp-items="ViewBag.HotelId"
                                required>
                            <option value="">-- Chọn khách sạn --</option>
                        </select>
                        <span asp-validation-for="HotelId" class="text-danger small"></span>
                    </div>

                    <!-- 🏷️ LOẠI PHÒNG -->
                    <div class="col-md-6">
                        <label class="form-label fw-semibold mb-2">
                            Loại phòng <i class="fas fa-tags text-warning"></i>
                        </label>
                        <select asp-for="RoomTypeId"
                                class="form-select form-select-lg border-warning-subtle"
                                asp-items="ViewBag.RoomTypeId"
                                required>
                            <option value="">-- Chọn loại phòng --</option>
                        </select>
                        <span asp-validation-for="RoomTypeId" class="text-danger small"></span>
                    </div>

                    <!-- 🗺️ SỐ PHÒNG -->
                    <div class="col-md-4">
                        <label class="form-label fw-semibold mb-2">
                            Số phòng <i class="fas fa-hashtag text-info"></i>
                        </label>
                        <input asp-for="RoomNumber"
                               class="form-control form-control-lg border-info-subtle"
                               id="roomNumber"
                               required />
                        <small class="text-danger" id="roomNumberError"></small>
                    </div>

                    <!-- 🏢 TẦNG -->
                    <div class="col-md-4">
                        <label class="form-label fw-semibold mb-2">
                            Tầng <i class="fas fa-building text-secondary"></i>
                        </label>
                        <input asp-for="Floor"
                               class="form-control form-control-lg"
                               type="number"
                               min="0"
                               placeholder="VD: 3" />
                    </div>

                    <!-- 💰 GIÁ -->
                    <div class="col-md-4">
                        <label class="form-label fw-semibold mb-2">
                            Giá/đêm <i class="fas fa-dollar-sign text-success"></i>
                        </label>
                        <input asp-for="CurrentPrice"
                               class="form-control form-control-lg border-success-subtle"
                               type="number"
                               step="1000"
                               min="0"
                               placeholder="0"
                               required />
                        <small class="text-muted">VNĐ/đêm</small>
                    </div>
                </div>

                <!-- 🖼️ UPLOAD ẢNH -->
                <div class="row mt-4">
                    <div class="col-12">
                        <label class="form-label fw-semibold mb-3">
                            <i class="fas fa-images text-primary me-2"></i>Hình ảnh phòng
                        </label>
                        <div class="border-dashed border-3 border-primary-subtle rounded-3 p-4 text-center hover-pointer">
                            <input type="file"
                                   name="Images"
                                   class="form-control form-control-lg border-0 bg-transparent"
                                   multiple
                                   accept="image/*"
                                   id="imageInput" />
                            <div class="text-muted mt-2" id="imagePreview">
                                <i class="fas fa-cloud-upload-alt fa-3x mb-3 opacity-50"></i>
                                <p class="mb-0">Nhấp để chọn ảnh (JPG, PNG) hoặc kéo thả</p>
                                <small class="opacity-75">Tối đa 10 ảnh, dưới 5MB/ảnh</small>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 🎯 ACTION BUTTONS -->
                <div class="d-flex gap-3 justify-content-between mt-5 pt-4 border-top">
                    <a asp-action="Index"
                       class="btn btn-outline-secondary btn-lg px-4 rounded-pill">
                        <i class="fas fa-arrow-left me-2"></i>Quay lại
                    </a>
                    <button type="submit"
                            class="btn btn-success btn-lg px-5 rounded-pill shadow-lg"
                            id="submitBtn">
                        <i class="fas fa-save me-2"></i>Lưu phòng mới
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    .room-form {
        background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
    }

    .form-select:focus, .form-control:focus {
        border-color: #0d6efd !important;
        box-shadow: 0 0 0 0.25rem rgba(13,110,253,0.15) !important;
    }

    .icon-circle {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .border-dashed {
        border-style: dashed !important;
        transition: all 0.3s ease;
    }

        .border-dashed:hover {
            border-color: #0d6efd !important;
            background-color: #f8f9ff;
        }

    @@media (max-width: 768px) {
        .d-flex.gap-3 {
            flex-direction: column-reverse;
        }
    }
</style>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
