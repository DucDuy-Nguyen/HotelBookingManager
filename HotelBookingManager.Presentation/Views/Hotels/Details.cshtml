@model HotelBookingManager.Presentation.Models.HotelViewModel
@using System.Security.Claims
@{
    var roleClaim = User.FindFirst("RoleId")?.Value;
    var isAdminOrStaff = int.TryParse(roleClaim, out int roleId) && (roleId == 1 || roleId == 2);
}

<h2>Chi tiết khách sạn</h2>

<div>
    <h4>@Model.Name</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Mô tả</dt>
        <dd class="col-sm-10">@Model.Description</dd>

        <dt class="col-sm-2">Địa chỉ</dt>
        <dd class="col-sm-10">@Model.Address</dd>

        <dt class="col-sm-2">Thành phố</dt>
        <dd class="col-sm-10">@Model.City</dd>

        <dt class="col-sm-2">Quốc gia</dt>
        <dd class="col-sm-10">@Model.Country</dd>

        <dt class="col-sm-2">Rating</dt>
        <dd class="col-sm-10">@Model.Rating ★</dd>

        <dt class="col-sm-2">Điện thoại</dt>
        <dd class="col-sm-10">@Model.PhoneNumber</dd>

        <dt class="col-sm-2">Email</dt>
        <dd class="col-sm-10">@Model.Email</dd>

        <dt class="col-sm-2">Trạng thái</dt>
        <dd class="col-sm-10">
            @if (Model.IsActive)
            {
                <span class="badge bg-success">Active</span>
            }
            else
            {
                <span class="badge bg-secondary">Inactive</span>
            }
        </dd>
    </dl>
</div>

<div class="mt-3">
    @* ADMIN/STAFF ONLY: Sửa *@
    @if (isAdminOrStaff)
    {
        <a asp-action="Edit" asp-route-id="@Model.HotelId" class="btn btn-warning">Sửa</a>
    }

    <!-- Public: Quay lại -->
    <a asp-action="Index" class="btn btn-secondary">Quay lại danh sách</a>
</div>
