@model HotelBookingManager.Presentation.Models.HotelViewModel
@using System.Security.Claims
@{
    var roleClaim = User.FindFirst("RoleId")?.Value;
    var isAdminOrStaff = int.TryParse(roleClaim, out int roleId) && (roleId == 1 || roleId == 2);
}

<h2 class="mb-4">🏨 Chi tiết khách sạn</h2>

<div class="card shadow-sm">
    <div class="card-body">

        <h4 class="card-title fw-bold mb-3">
            @Model.Name
        </h4>

        <hr />

        <dl class="row mb-0">

            <dt class="col-sm-3 text-muted">📝 Mô tả</dt>
            <dd class="col-sm-9">@Model.Description</dd>

            <dt class="col-sm-3 text-muted">📍 Địa chỉ</dt>
            <dd class="col-sm-9">@Model.Address</dd>

            <dt class="col-sm-3 text-muted">🏙 Thành phố</dt>
            <dd class="col-sm-9">@Model.City</dd>

            <dt class="col-sm-3 text-muted">🌍 Quốc gia</dt>
            <dd class="col-sm-9">@Model.Country</dd>

            <dt class="col-sm-3 text-muted">⭐ Đánh giá</dt>
            <dd class="col-sm-9 fw-semibold">
                @Model.Rating ★
            </dd>

            <dt class="col-sm-3 text-muted">📞 Điện thoại</dt>
            <dd class="col-sm-9">@Model.PhoneNumber</dd>

            <dt class="col-sm-3 text-muted">📧 Email</dt>
            <dd class="col-sm-9">@Model.Email</dd>

            <dt class="col-sm-3 text-muted">📌 Trạng thái</dt>
            <dd class="col-sm-9">
                @if (Model.IsActive)
                {
                    <span class="badge bg-success px-3 py-2">
                        Hoạt động
                    </span>
                }
                else
                {
                    <span class="badge bg-secondary px-3 py-2">
                        Ngừng hoạt động
                    </span>
                }
            </dd>

        </dl>
    </div>
</div>

<div class="mt-4 d-flex gap-2">
    @* ADMIN / STAFF ONLY *@
    @if (isAdminOrStaff)
    {
        <a asp-action="Edit"
           asp-route-id="@Model.HotelId"
           class="btn btn-warning">
            ✏️ Sửa
        </a>
    }

    <a asp-action="Index" class="btn btn-outline-secondary">
        ⬅ Quay lại danh sách
    </a>
</div>
